<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>웹프로그래밍 시험 결과</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="result-container">
        <header class="result-header">
            <h1>시험 결과</h1>
            <p class="result-date" id="examDate"></p>
        </header>
        
        <main class="result-main">
            <!-- 점수 요약 섹션 -->
            <section class="score-summary">
                <div class="score-card">
                    <h2>총점</h2>
                    <div class="total-score" id="totalScore">0</div>
                    <div class="score-grade" id="scoreGrade">-</div>
                </div>
                
                <div class="score-details">
                    <div class="detail-item">
                        <span class="label">응시자:</span>
                        <span class="value" id="resultUserName">-</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">학번:</span>
                        <span class="value" id="resultUserStudentId">-</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">응시 시간:</span>
                        <span class="value" id="examDuration">-</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">정답률:</span>
                        <span class="value" id="correctRate">-</span>
                    </div>
                </div>
            </section>
            
            <!-- 영역별 점수 -->
            <section class="category-scores">
                <h2>영역별 성과</h2>
                <div class="category-grid">
                    <div class="category-item">
                        <h3>객관식 문제</h3>
                        <div class="category-score">
                            <span id="multipleScore">0</span>/40
                        </div>
                        <div class="category-bar">
                            <div class="bar-fill" id="multipleBar"></div>
                        </div>
                    </div>
                    <div class="category-item">
                        <h3>단답식 문제</h3>
                        <div class="category-score">
                            <span id="shortScore">0</span>/10
                        </div>
                        <div class="category-bar">
                            <div class="bar-fill" id="shortBar"></div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- 상세 결과 및 해설 -->
            <section class="detailed-results">
                <h2>문제별 상세 결과</h2>
                
                <div class="result-tabs">
                    <button class="tab-btn active" data-tab="multiple">객관식 (1-40)</button>
                    <button class="tab-btn" data-tab="short">단답식 (41-50)</button>
                </div>
                
                <div class="tab-content" id="multipleContent">
                    <div id="multipleResults" class="question-results">
                        <!-- 객관식 결과가 동적으로 로드됩니다 -->
                    </div>
                </div>
                
                <div class="tab-content" id="shortContent" style="display: none;">
                    <div id="shortResults" class="question-results">
                        <!-- 단답식 결과가 동적으로 로드됩니다 -->
                    </div>
                </div>
            </section>
            
            <!-- 재시험 및 인쇄 버튼 -->
            <section class="result-actions">
                <button id="retakeBtn" class="btn-retake">다시 응시하기</button>
                <button id="printBtn" class="btn-print">결과 인쇄</button>
                <button id="downloadBtn" class="btn-download">PDF 다운로드</button>
            </section>
        </main>
        
        <footer>
            <p>&copy; 2025 웹프로그래밍 평가 시스템. All rights reserved.</p>
        </footer>
    </div>
    
    <!-- 인쇄용 스타일 -->
    <style media="print">
        .result-actions,
        .result-tabs {
            display: none;
        }
        
        .tab-content {
            display: block !important;
            page-break-inside: avoid;
        }
        
        .question-result {
            page-break-inside: avoid;
        }
    </style>
    
    <!-- jsPDF 라이브러리 CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <script src="js/questions.js"></script>
    <script src="js/result.js"></script>
</body>
</html>